<!DOCTYPE html>

<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meine Reise Berlin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;700&display=swap');
        body { font-family: 'Fredoka', sans-serif; }
        .walking-anim { animation: bounce 1s infinite; }
        @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-5px); } }
    </style>
	<link rel="manifest" href="manifest.json">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/821/821355.png">
<html lang="de">
</head>
<body class="bg-blue-50 pb-10">
    <div class="max-w-md mx-auto p-5">
        <h1 class="text-3xl font-black text-blue-900 text-center mb-6 underline decoration-yellow-400 uppercase">Berlin Tour ğŸš‡</h1>

        <div class="bg-white p-6 rounded-[2.5rem] shadow-xl mb-6 border-4 border-blue-200">
            <div class="space-y-4">
                <div>
                    <p class="text-xs font-bold text-blue-400 ml-4 mb-1">ğŸ“ START</p>
                    <input id="from" type="text" placeholder="Wo bist du?" class="w-full p-4 bg-gray-50 rounded-2xl border-none font-bold outline-none focus:ring-2 focus:ring-blue-400">
                </div>
                <div class="text-center text-blue-200">â¬‡ï¸</div>
                <div>
                    <p class="text-xs font-bold text-red-400 ml-4 mb-1">ğŸ ZIEL</p>
                    <input id="to" type="text" placeholder="Wo willst du hin?" class="w-full p-4 bg-gray-50 rounded-2xl border-none font-bold outline-none focus:ring-2 focus:ring-red-400">
                </div>
                <button onclick="getAlternativeJourney()" class="w-full bg-blue-600 text-white font-black py-5 rounded-3xl shadow-lg active:scale-95 transition-all text-xl mt-4">
                    PLANEN! ğŸš€
                </button>
            </div>
        </div>

        <div id="result" class="space-y-4 hidden">
            <h2 class="text-xl font-bold text-gray-700 ml-2">Dein Weg:</h2>
            <div id="journey-steps" class="space-y-4"></div>
            
            <button id="fallback-btn" class="w-full bg-gray-200 text-gray-700 py-3 rounded-2xl text-sm font-bold mt-4 hidden">
                In Google Maps Ã¶ffnen ğŸ—ºï¸
            </button>
        </div>
    </div>

    <script>
        async function getAlternativeJourney() {
            const from = document.getElementById('from').value;
            const to = document.getElementById('to').value;
            const stepContainer = document.getElementById('journey-steps');
            const resultDiv = document.getElementById('result');
            const fallbackBtn = document.getElementById('fallback-btn');

            if (!from || !to) return;
            resultDiv.classList.remove('hidden');
            stepContainer.innerHTML = "<p class='text-center py-10 font-bold'>Suche... ğŸ¦</p>";

            try {
                // Thá»­ gá»i láº¡i API Berlin vá»›i tham sá»‘ nháº¹ hÆ¡n
                const response = await fetch(`https://v6.vbb.transport.rest/journeys?from=${encodeURIComponent(from + " Berlin")}&to=${encodeURIComponent(to + " Berlin")}&results=1`);
                const data = await response.json();

                if (data.journeys && data.journeys.length > 0) {
                    stepContainer.innerHTML = "";
                    data.journeys[0].legs.forEach(leg => {
                        const isWalk = leg.mode === 'walking';
                        stepContainer.innerHTML += `
                            <div class="bg-white p-5 rounded-[2rem] shadow-md flex items-center gap-4 border-l-8 ${isWalk ? 'border-orange-400' : 'border-blue-600'}">
                                <div class="text-4xl ${isWalk ? 'walking-anim' : ''}">${isWalk ? 'ğŸ‘Ÿ' : 'ğŸš‡'}</div>
                                <div class="flex-1">
                                    <p class="text-xs font-bold text-gray-400 uppercase">${isWalk ? 'Laufen' : 'Einsteigen'}</p>
                                    <p class="text-lg font-black leading-tight text-blue-900">${leg.destination.name}</p>
                                    <p class="text-sm font-bold text-gray-500">${isWalk ? 'ca. 5-10 Min.' : 'Fahren'}</p>
                                </div>
                            </div>`;
                    });
                } else {
                    throw new Error("No journey");
                }
            } catch (e) {
                // Náº¿u API Berlin lá»—i, hiá»ƒn thá»‹ nÃºt má»Ÿ Google Maps trá»±c tiáº¿p cho con
                stepContainer.innerHTML = `
                    <div class="bg-white p-6 rounded-[2rem] text-center shadow-md border-2 border-red-200">
                        <p class="text-lg font-bold text-red-600 mb-2">Ups! API Pause ğŸš§</p>
                        <p class="text-sm text-gray-600">Klick unten Ä‘á»ƒ xem Ä‘Æ°á»ng Ä‘i trÃªn báº£n Ä‘á»“ nhÃ©!</p>
                    </div>`;
                fallbackBtn.classList.remove('hidden');
                fallbackBtn.onclick = () => {
                    window.open(`https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(from)}&destination=${encodeURIComponent(to)}&travelmode=transit`, '_blank');
                };
            }
        }
    </script>
</body>
</html>
